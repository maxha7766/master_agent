# ============================================
# Personal AI Assistant - Production Environment Configuration
# ============================================
# This template is for Railway/production deployment
# Configure these variables in your Railway service settings
# DO NOT commit actual credentials to version control

# ============================================
# SUPABASE CONFIGURATION (Required)
# ============================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_PUBLIC=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ============================================
# AI PROVIDER CONFIGURATION (Required)
# ============================================

# OpenAI API (Required - Primary LLM for chat and embeddings)
OPENAI_API_KEY=sk-proj-your_openai_key_here

# Anthropic API (Required - Claude models)
ANTHROPIC_API_KEY=sk-ant-api03-your_anthropic_key_here

# Google Gemini API (Optional - Document metadata extraction)
GEMINI_API_KEY=your_gemini_key_here

# Cohere API (Required - Reranking for hybrid search)
COHERE_API_KEY=your_cohere_key_here

# Database Encryption (Required - AES-256-GCM for SQL Agent)
# Generate with: openssl rand -base64 32
DB_ENCRYPTION_KEY=your_32_byte_base64_key_here

# ============================================
# SEARCH PROVIDERS (Research Agent)
# ============================================

# Tavily Search API (Required - Primary research provider)
TAVILY_API_KEY=tvly-your_tavily_key_here

# Brave Search API (Optional - Fallback provider)
BRAVE_API_KEY=your_brave_key_here

# Firecrawl API (Optional - Web scraping)
FIRECRAWL_API_KEY=fc-your_firecrawl_key_here

# Context7 API (Optional - Context-aware search)
CONTEXT7_API_KEY=ctx7sk-your_context7_key_here

# NewsAPI (Optional - News aggregation)
NEWSAPI_KEY=your_newsapi_key_here

# The Guardian API (Optional - Quality journalism)
GUARDIAN_API_KEY=your_guardian_key_here

# FRED API (Optional - Economic data)
FRED_API_KEY=your_fred_key_here

# Alpha Vantage API (Optional - Stock market data)
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here

# ============================================
# APPLICATION CONFIGURATION (Required)
# ============================================

# Server Configuration
NODE_ENV=production
PORT=3001

# CRITICAL: Set this to your Railway frontend URL
# Example: https://your-app.up.railway.app
FRONTEND_URL=https://your-frontend-url.up.railway.app

# WebSocket Configuration
WS_PORT=3001
WS_PATH=/ws

# Rate Limiting
API_RATE_LIMIT=100  # requests per minute per user
WS_RATE_LIMIT=10    # messages per second per connection

# LLM Budget Limits
MONTHLY_BUDGET_USD=10.00
BUDGET_WARNING_THRESHOLD=0.80  # Warn at 80% usage

# File Upload Configuration
MAX_FILE_SIZE_MB=100
ALLOWED_FILE_TYPES=pdf,txt,docx,csv,xlsx,md

# Security
JWT_EXPIRY_HOURS=24

# CRITICAL: CORS Configuration
# Must include your Railway frontend URL
# Example: https://your-frontend.up.railway.app,https://your-backend.up.railway.app
CORS_ORIGINS=https://your-frontend-url.up.railway.app,https://your-backend-url.up.railway.app

# ============================================
# LOGGING & MONITORING
# ============================================
LOG_LEVEL=info  # debug, info, warn, error
LOG_FORMAT=json  # json format for production

# ============================================
# OPTIONAL: Development & Observability
# ============================================

# LangSmith API (Optional - LangChain debugging)
LANGSMITH_API_KEY=lsv2_pt_your_langsmith_key_here

# GitHub Personal Access Token (Optional - Repository integration)
GITHUB_PERSONAL_ACCESS_TOKEN=github_pat_your_token_here

# ============================================
# RAILWAY DEPLOYMENT NOTES
# ============================================
#
# 1. Health Check Configuration:
#    - Railway will check /health endpoint
#    - Configured in railway.json with 100s timeout
#
# 2. Build Process:
#    - Railway uses Nixpacks builder
#    - Runs: npm install && npm run build
#    - Starts with: node dist/index.js
#
# 3. Required Environment Variables:
#    - SUPABASE_URL, SUPABASE_ANON_PUBLIC, SUPABASE_SERVICE_ROLE_KEY
#    - OPENAI_API_KEY, ANTHROPIC_API_KEY, COHERE_API_KEY
#    - DB_ENCRYPTION_KEY, TAVILY_API_KEY
#    - FRONTEND_URL (critical for CORS)
#    - CORS_ORIGINS (must match your Railway URLs)
#
# 4. Security:
#    - Railway injects these as environment variables
#    - Never commit actual values to git
#    - Use Railway's environment variable UI
#    - Consider using Railway's secret management
#
# 5. CORS Setup:
#    - Update CORS_ORIGINS with both frontend and backend URLs
#    - Format: https://frontend.railway.app,https://backend.railway.app
#    - Update after Railway deployment URLs are assigned
#
